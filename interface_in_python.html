<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Interface in Python</title>
  <style type="text/css">
    html {
      -webkit-text-size-adjust: 100%;
      padding-bottom: 4em
    }

    body {
      line-height: 1.5em;
      max-width: 40em;
      padding: 0 2%;
      margin: auto
    }
  </style>
</head>

<body>
  <br>
  <a href="index.html">home</a>
  <h1>Interfaces in Python</h1>
  <small>Feb 12th, 2020</small>
  <p>Interface is the description of how an object behaves. In object oriented programming, an interface is a set of
    publicly accessible methods on an object which can be used by other parts of the program to interact with that
    object. In Java, interfaces are part of the language syntax and are strictly enforced. However, in Python, things
    are a little different. There is no `interface` keyword in python</p>

  <h2>Informal Interfaces:</h2>

  <h3>Duck Typing</h3>
  <p>If we have an object that can fly like a duck and quack like a duck, we consider that object as a duck. This is
    called "Duck Typing". At runtime, instead of checking the type of object, we try to invoke a behavior (method) we
    expect the object to have. If it behaves the way we expected, we’re fine and move along. But if it doesn’t, things
    might blow up. To be safe, we often handle the exceptions in a try..except block or use hasattr to check if an
    object has the specific method.</p>

  <h3>Protocols</h3>
  <p>In the Python world, we often hear “file like object” or “an iterable” - if an object has a read method, it can be
    treated as a file like object, if it has an __iter__ magic method, it is an iterable. So any object, regardless of
    it’s class/type, can conform to a certain interface just by implementing the expected behavior (methods). These
    informal interfaces are termed as protocols.</p>

  <h3>NotImplementedError Exception</h3>
  <p>User-defined base classes can raise NotImplementedError to indicate that a method or behavior needs to be defined
    by a subclass, simulating an interface. This exception is derived from RuntimeError.</p>

  <pre style="border:1px solid #D3D3D3; padding:0 2%;">

    class Aeroplane:
        def fly(self):
            raise NotImplementedError
  </pre>

  <h2>Formal Interfaces: ABCs</h2>
  <p>While protocols work fine in many cases, there are situations where informal interfaces or duck typing in general
    can cause confusion. For example, a Bird and Aeroplane both can fly(). But they are not the same thing even if they
    implement the same interfaces / protocols. Abstract Base Classes or ABCs can help solve this issue.</p>

  <p>The concept behind ABCs is simple - we define base classes which are abstract in nature. We define certain methods
    on the base classes as abstract methods. So any objects deriving from these bases classes are forced to implement
    those methods. And since we’re using base classes, if we see an object has our class as a base class, we can say
    that this object implements the interface. That is now we can use types to tell if an object implements a certain
    interface.</p>

  <pre style="border:1px solid #D3D3D3; padding:0 2%;">

    from abc import ABC, abstractmethod

    class Bird(ABC):
        @abstractmethod
        def fly(self):
            pass
    
    class Parrot(Bird):
        def fly(self):
            print("parrot fly")
    
    p = Parrot()
    isinstance(p, Bird) # True
    isinstance(p, Parrot) # True
  </pre>

  <h2>Difference between Abstract Class and Interface</h2>
  <p>Python doesn't have (and doesn't need) a formal Interface contract, the Java-style distinction between abstraction
    and interface doesn't exist. If someone goes through the effort to define a formal interface, it will also be an
    abstract class. The only differences would be in the stated intent in the docstring.</p>
  <p>And the difference between abstract and interface is a hairsplitting thing when you have duck typing. Java uses
    interfaces because it doesn't have multiple inheritance and Python has multiple inheritance</p>


  <br>
  <strong>References</strong>
  <li><a href="http://masnun.rocks/2017/04/15/interfaces-in-python-protocols-and-abcs/">
      http://masnun.rocks/2017/04/15/interfaces-in-python-protocols-and-abcs/</a></li>
  <li><a href="https://stackoverflow.com/questions/372042/difference-between-abstract-class-and-interface-in-python">
      https://stackoverflow.com/questions/372042/difference-between-abstract-class-and-interface-in-python</a></li>
</body>

</html>